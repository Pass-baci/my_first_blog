{"version":3,"sources":["webpack:///./src/components/user/userlist.vue?3ff5","webpack:///./src/components/user/userlist.vue?384f","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///src/components/user/userlist.vue","webpack:///./src/components/user/userlist.vue?08c3","webpack:///./src/components/user/userlist.vue?ede6"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","staticStyle","on","getUserList","model","value","callback","$$v","username","expression","$event","addUservisible","columns","paginationOption","userlist","scopedSlots","_u","key","fn","role","_s","data","editUser","ID","deleteUser","addUserOk","addUserCancel","ref","userInfo","userRules","$set","adminChange","editUservisible","editUserOk","editUserCancel","editRules","staticRenderFns","_arrayLikeToArray","arr","len","length","i","arr2","Array","_arrayWithoutHoles","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","Object","from","_unsupportedIterableToArray","o","minLen","n","prototype","toString","call","slice","constructor","name","test","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","pagSizeOptions","defaultCurrent","defaultPageSize","total","showSizeChanger","showTotal","onchage","onshowSizeChange","id","password","repassword","created","methods","$confirm","title","content","onOk","onCancel","$refs","addUserRef","validate","resetFields","Number","editUserRef","$message","info","component"],"mappings":"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","file":"js/chunk-bcc396f6.0b207ce2.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userlist.vue?vue&type=style&index=0&id=711d0c3e&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',{staticClass:\"sp\"},[_vm._v(\"欢迎来到用户管理页面\")]),_c('a-card',[_c('a-row',[_c('a-col',{attrs:{\"span\":6}},[_c('a-input-search',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"输入用户进行查找\",\"allowClear\":\"\"},on:{\"search\":_vm.getUserList},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}})],1),_c('a-col',{attrs:{\"span\":4}},[_c('a-button',{staticStyle:{\"margin-left\":\"8%\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addUservisible = true}}},[_vm._v(\"新增\")])],1)],1),_c('a-table',{attrs:{\"rowKey\":\"ID\",\"columns\":_vm.columns,\"pagination\":_vm.paginationOption,\"dataSource\":_vm.userlist,\"bordered\":\"\"},scopedSlots:_vm._u([{key:\"role\",fn:function(role){return _c('span',{},[_vm._v(_vm._s(role === 1 ? '管理员':'阅读者'))])}},{key:\"action\",fn:function(data){return [_c('div',{staticClass:\"actionSlot\"},[_c('a-button',{staticStyle:{\"margin-right\":\"15px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.editUser(data.ID)}}},[_vm._v(\"编辑\")]),_c('a-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.deleteUser(data.ID)}}},[_vm._v(\"删除\")])],1)]}}])})],1),_c('a-modal',{attrs:{\"closable\":\"\",\"destroyOnclose\":\"\",\"title\":\"新增用户\",\"visible\":_vm.addUservisible},on:{\"ok\":_vm.addUserOk,\"cancel\":_vm.addUserCancel}},[_c('a-form-model',{ref:\"addUserRef\",attrs:{\"model\":_vm.userInfo,\"rules\":_vm.userRules}},[_c('a-form-model-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('a-input',{model:{value:(_vm.userInfo.username),callback:function ($$v) {_vm.$set(_vm.userInfo, \"username\", $$v)},expression:\"userInfo.username\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('a-input-password',{model:{value:(_vm.userInfo.password),callback:function ($$v) {_vm.$set(_vm.userInfo, \"password\", $$v)},expression:\"userInfo.password\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"repassword\"}},[_c('a-input-password',{model:{value:(_vm.userInfo.repassword),callback:function ($$v) {_vm.$set(_vm.userInfo, \"repassword\", $$v)},expression:\"userInfo.repassword\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"是否为管理员\",\"prop\":\"role\"}},[_c('a-select',{staticStyle:{},attrs:{\"defaultValue\":\"2\"},on:{\"change\":_vm.adminChange}},[_c('a-select-option',{key:\"1\",attrs:{\"value\":\"1\"}},[_vm._v(\"是\")]),_c('a-select-option',{key:\"2\",attrs:{\"value\":\"2\"}},[_vm._v(\"否\")])],1)],1)],1)],1),_c('a-modal',{attrs:{\"closable\":\"\",\"destroyOnclose\":\"\",\"title\":\"编辑用户\",\"visible\":_vm.editUservisible},on:{\"ok\":_vm.editUserOk,\"cancel\":_vm.editUserCancel}},[_c('a-form-model',{ref:\"editUserRef\",attrs:{\"model\":_vm.userInfo,\"rules\":_vm.editRules}},[_c('a-form-model-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('a-input',{model:{value:(_vm.userInfo.username),callback:function ($$v) {_vm.$set(_vm.userInfo, \"username\", $$v)},expression:\"userInfo.username\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"是否为管理员\",\"prop\":\"role\"}},[_c('a-select',{staticStyle:{},attrs:{\"defaultValue\":\"2\"},on:{\"change\":_vm.adminChange}},[_c('a-select-option',{key:\"1\",attrs:{\"value\":\"1\"}},[_vm._v(\"是\")]),_c('a-select-option',{key:\"2\",attrs:{\"value\":\"2\"}},[_vm._v(\"否\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","<template>\r\n    <div>\r\n        <span class=\"sp\">欢迎来到用户管理页面</span>\r\n        <a-card>\r\n            <a-row>\r\n                <a-col :span=\"6\">\r\n                    <a-input-search v-model=\"username\" placeholder=\"输入用户进行查找\" style=\"width: 100%\" @search=\"getUserList\" allowClear />\r\n                </a-col>\r\n                <a-col :span=\"4\">\r\n                    <a-button type=\"primary\"  @click=\"addUservisible = true\" style=\"margin-left:8%;\">新增</a-button>\r\n                </a-col>\r\n            </a-row>\r\n            <a-table rowKey=\"ID\" :columns=\"columns\" :pagination='paginationOption' :dataSource=\"userlist\" bordered>\r\n                <span slot=\"role\" slot-scope=\"role\">{{ role === 1 ? '管理员':'阅读者' }}</span>\r\n                <template slot=\"action\" slot-scope=\"data\">\r\n                    <div class=\"actionSlot\">\r\n                        <a-button type=\"primary\" style=\"margin-right: 15px\" @click=\"editUser(data.ID)\">编辑</a-button>\r\n                        <a-button type=\"danger\" @click=\"deleteUser(data.ID)\">删除</a-button>\r\n                    </div>\r\n                </template>\r\n            </a-table>\r\n        </a-card>\r\n        <a-modal\r\n          closable\r\n          destroyOnclose\r\n          title=\"新增用户\"\r\n          :visible=\"addUservisible\"\r\n          @ok=\"addUserOk\"\r\n          @cancel=\"addUserCancel\"\r\n        >\r\n        <a-form-model :model=\"userInfo\" :rules=\"userRules\" ref=\"addUserRef\">\r\n          <a-form-model-item label=\"用户名\" prop=\"username\">\r\n            <a-input v-model=\"userInfo.username\"></a-input>\r\n          </a-form-model-item>\r\n          <a-form-model-item label=\"密码\" prop=\"password\">\r\n            <a-input-password v-model=\"userInfo.password\"></a-input-password>\r\n          </a-form-model-item>\r\n          <a-form-model-item label=\"确认密码\" prop=\"repassword\">\r\n            <a-input-password v-model=\"userInfo.repassword\"></a-input-password>\r\n          </a-form-model-item>\r\n          <a-form-model-item label=\"是否为管理员\" prop=\"role\">\r\n            <a-select defaultValue=\"2\" style=\"100px\" @change=\"adminChange\">\r\n              <a-select-option key=\"1\" value=\"1\">是</a-select-option>\r\n              <a-select-option key=\"2\" value=\"2\">否</a-select-option>\r\n            </a-select>\r\n          </a-form-model-item>\r\n        </a-form-model>\r\n        </a-modal>\r\n        <a-modal\r\n          closable\r\n          destroyOnclose\r\n          title=\"编辑用户\"\r\n          :visible=\"editUservisible\"\r\n          @ok=\"editUserOk\"\r\n          @cancel=\"editUserCancel\"\r\n        >\r\n        <a-form-model :model=\"userInfo\" :rules=\"editRules\" ref=\"editUserRef\">\r\n          <a-form-model-item label=\"用户名\" prop=\"username\">\r\n            <a-input v-model=\"userInfo.username\"></a-input>\r\n          </a-form-model-item>\r\n          <a-form-model-item label=\"是否为管理员\" prop=\"role\">\r\n            <a-select defaultValue=\"2\" style=\"100px\" @change=\"adminChange\">\r\n              <a-select-option key=\"1\" value=\"1\">是</a-select-option>\r\n              <a-select-option key=\"2\" value=\"2\">否</a-select-option>\r\n            </a-select>\r\n          </a-form-model-item>\r\n        </a-form-model>\r\n        </a-modal>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nconst columns = [\r\n  {\r\n    title: 'ID',\r\n    dataIndex: 'ID',\r\n    width: '5%',\r\n    key: 'ID',\r\n    align: 'center'\r\n  },\r\n  {\r\n    title: '用户名',\r\n    dataIndex: 'username',\r\n    width: '20%',\r\n    key: 'username',\r\n    align: 'center'\r\n  },\r\n  {\r\n    title: '权限',\r\n    dataIndex: 'role',\r\n    width: '10%',\r\n    key: 'role',\r\n    scopedSlots: { customRender: 'role' },\r\n    align: 'center'\r\n  },\r\n  {\r\n    title: '操作',\r\n    width: '10%',\r\n    key: 'action',\r\n    scopedSlots: { customRender: 'action' },\r\n    align: 'center'\r\n  }\r\n]\r\nexport default {\r\n  data () {\r\n    return {\r\n      paginationOption: {\r\n        pagSizeOptions: ['5', '5', '10'],\r\n        defaultCurrent: 1,\r\n        defaultPageSize: 10,\r\n        total: 0,\r\n        showSizeChanger: true,\r\n        showTotal: (total) => `共${total}条`,\r\n        onchage: (page, pageSize) => {\r\n          this.paginationOption.defaultCurrent = page\r\n          this.paginationOption.defaultPageSize = pageSize\r\n        },\r\n        onshowSizeChange: (current, size) => {\r\n          this.paginationOption.defaultCurrent = current\r\n          this.paginationOption.defaultPageSize = size\r\n        }\r\n      },\r\n      userInfo: {\r\n        id: 0,\r\n        username: '',\r\n        password: '',\r\n        repassword: '',\r\n        role: 2\r\n      },\r\n      userlist: [],\r\n      userRules: {\r\n        username: [\r\n          {\r\n            required: true,\r\n            message: '请输入用户名',\r\n            trigger: 'blur'\r\n          },\r\n          {\r\n            min: 4,\r\n            max: 12,\r\n            message: '用户名长度不正确',\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        password: [\r\n          {\r\n            validator: (rule, value, callback) => {\r\n              if (this.userInfo.password === '') {\r\n                callback(new Error('请输入密码'))\r\n              }\r\n              if ([...this.userInfo.password].length < 6 || [...this.userInfo.password].length > 20) {\r\n                callback(new Error('密码格式错误'))\r\n              } else {\r\n                callback()\r\n              }\r\n            },\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        repassword: [\r\n          {\r\n            validator: (rule, value, callback) => {\r\n              if (this.userInfo.repassword === '') {\r\n                callback(new Error('请输入密码'))\r\n              }\r\n              if (this.userInfo.repassword !== this.userInfo.password) {\r\n                callback(new Error('密码不一致，请重新输入'))\r\n              } else {\r\n                callback()\r\n              }\r\n            },\r\n            trigger: 'blur'\r\n          }\r\n        ]\r\n      },\r\n      editRules: {\r\n        username: [\r\n          {\r\n            required: true,\r\n            message: '请输入用户名',\r\n            trigger: 'blur'\r\n          },\r\n          {\r\n            min: 4,\r\n            max: 12,\r\n            message: '用户名长度不正确',\r\n            trigger: 'blur'\r\n          }\r\n        ]\r\n      },\r\n      columns,\r\n      username: '',\r\n      addUservisible: false,\r\n      editUservisible: false\r\n    }\r\n  },\r\n  created () {\r\n    this.getUserList()\r\n  },\r\n  methods: {\r\n    async getUserList () {\r\n      const { data: res } = await this.$http.get('users', {\r\n        params: {\r\n          username: this.username,\r\n          pageSize: this.paginationOption.defaultPageSize,\r\n          pagenum: this.paginationOption.defaultCurrent\r\n        }\r\n      })\r\n      if (res.status !== 200) return this.$message.console.error(res.message)\r\n      this.userlist = res.data\r\n      this.paginationOption.total = res.total\r\n    },\r\n    deleteUser (id) {\r\n      this.$confirm({\r\n        title: '确定要删除该用户吗？',\r\n        content: '一旦删除，无法恢复！',\r\n        onOk: async () => {\r\n          const res = await this.$http.delete(`/users/${id}`)\r\n          if (res.status !== 200) return this.$message.console.error(res.message)\r\n          this.$message.success('删除成功')\r\n          this.getUserList()\r\n        },\r\n        onCancel: () => {\r\n          this.$message.info('已取消！')\r\n        }\r\n      })\r\n    },\r\n    addUserOk () {\r\n      this.$refs.addUserRef.validate(async (valid) => {\r\n        if (!valid) return this.$message.error('参数不符合要求，请重新输入')\r\n        const { data: res } = await this.$http.post('users/add', {\r\n          username: this.userInfo.username,\r\n          password: this.userInfo.password,\r\n          role: this.userInfo.role\r\n        })\r\n        if (res.status !== 200) return this.$message.error(res.message)\r\n        this.$message.success('添加用户成功！')\r\n        this.addUservisible = false\r\n        this.getUserList()\r\n      })\r\n    },\r\n    addUserCancel () {\r\n      this.$refs.addUserRef.resetFields()\r\n      this.addUservisible = false\r\n    },\r\n    adminChange (value) {\r\n      this.userInfo.role = Number(value)\r\n    },\r\n    async editUser (id) {\r\n      this.editUservisible = true\r\n      const { data: res } = await this.$http.get(`users/${id}`)\r\n      this.userInfo.username = res.data.username\r\n      this.userInfo.id = id\r\n    },\r\n    editUserOk () {\r\n      this.$refs.editUserRef.validate(async (valid) => {\r\n        if (!valid) return this.$message.error('参数不符合要求，请重新输入')\r\n        const { data: res } = await this.$http.put(`users/${this.userInfo.id}`, {\r\n          username: this.userInfo.username,\r\n          role: this.userInfo.role\r\n        })\r\n        if (res.status !== 200) return this.$message.error(res.message)\r\n        this.$message.success('更新用户成功！')\r\n        this.editUservisible = false\r\n        this.getUserList()\r\n      })\r\n    },\r\n    editUserCancel () {\r\n      this.$refs.editUserRef.resetFields()\r\n      this.editUservisible = false\r\n      this.$message.info('已取消！')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.actionSlot {\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n.sp {\r\n    margin-top: 1%;\r\n    font-size: 20px;\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userlist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userlist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./userlist.vue?vue&type=template&id=711d0c3e&scoped=true&\"\nimport script from \"./userlist.vue?vue&type=script&lang=js&\"\nexport * from \"./userlist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./userlist.vue?vue&type=style&index=0&id=711d0c3e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"711d0c3e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}